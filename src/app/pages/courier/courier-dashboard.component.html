<app-header></app-header>
<div class="container">
  <app-couriersidebar></app-couriersidebar>

  <div class="courier-container">
    <div class="section-title">
      <h2><b>Courier Summary</b></h2>
    </div>

    <div class="filters-row">
      <div class="search-container">
        <input type="text" placeholder="Search product..." />
        <button class="search-btn">
          <span class="material-icons">search</span>
        </button>
      </div>

      <div class="date-range">
        <div class="date-input">
          <label>From : </label>
          <input type="text" placeholder="Select start date" readonly />
          <span class="material-icons">calendar_today</span>
        </div>
        <div class="date-input">
          <label>To : </label>
          <input type="text" placeholder="Select end date" readonly />
          <span class="material-icons">calendar_today</span>
        </div>
      </div>
    </div>

    <div class="summary-section">
      <div class="delivery-stats">
        <div class="stat-row">
          <span class="stat-label">Total Deliveries</span>
          <span class="stat-value">: {{summary.total || 0}}</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Pending Deliveries</span>
          <span class="stat-value">: {{summary.pending || 0}}</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Completed Deliveries</span>
          <span class="stat-value">: {{summary.completed || 0}}</span>
        </div>
        <div class="stat-row">
          <span class="stat-label">Rejected Deliveries</span>
          <span class="stat-value">: {{summary.rejected || 0}}</span>
        </div>
      </div>
      <div class="pie-chart">
        <canvas #deliveryPieChart></canvas>
        <div class="chart-legend">
          <div class="legend-item">
            <span class="legend-color pending"></span>
            <span class="legend-text">Pending Deliveries</span>
          </div>
          <div class="legend-item">
            <span class="legend-color completed"></span>
            <span class="legend-text">Completed Deliveries</span>
          </div>
          <div class="legend-item">
            <span class="legend-color rejected"></span>
            <span class="legend-text">Rejected Deliveries</span>
          </div>
        </div>
      </div>
    </div>

    <div class="recent-deliveries">
      <h3>Recent Deliveries</h3>
      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th>Delivery ID</th>
              <th>Order ID</th>
              <th>Order Date</th>
              <th>Estimated to</th>
              <th>City</th>
              <th>Status</th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let delivery of recentDeliveries">
              <td>{{delivery?.courierId}}</td>
              <td>{{delivery?.orderId}}</td>
              <td>{{delivery?.date | date:'dd/MM/yyyy'}}</td>
              <td>{{delivery?.estimateDate | date:'dd/MM/yyyy'}}</td>
              <td>{{delivery?.destination}}</td>
              <td>
                <span class="status" [ngClass]="getStatusClass(delivery?.status)">
                  {{delivery?.status}}
                </span>
              </td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>

    <div class="print-report">
      <button>
        Print Report
        <span class="material-icons">print</span>
      </button>
    </div>
  </div>
</div>
<app-footer></app-footer>
