<div class="print-report-container">
  <h2>{{ reportType }}</h2>

  <div class="form-container no-print">
    <div class="form-group">
      <label>Start Date:</label>
      <input type="date" [(ngModel)]="filterStartDate" />
    </div>
    <div class="form-group">
      <label>End Date:</label>
      <input type="date" [(ngModel)]="filterEndDate" />
    </div>
    <button (click)="applyFilters()">Apply Filters</button>
  </div>

 <div id="reportContent" class="preview-container">
  <div class="report-header">
    <h3>{{ reportType }}</h3>
    <p class="report-date-range">Period: {{ startDate | date }} - {{ endDate | date }}</p>
  </div>
  
  <!-- Summary section for Courier report -->
  <div *ngIf="isCourierReport" class="summary-section">
    <div class="summary-stats">
      <h4>Delivery Statistics</h4>
      <div class="stat-item">
        <span class="stat-label">Pending Deliveries:</span>
        <span class="stat-value">{{ summaryData?.pending || 0 }}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Completed Deliveries:</span>
        <span class="stat-value">{{ summaryData?.completed || 0 }}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Rejected Deliveries:</span>
        <span class="stat-value">{{ summaryData?.rejected || 0 }}</span>
      </div>
      <div class="stat-item total">
        <span class="stat-label">Total Deliveries:</span>
        <span class="stat-value">{{ summaryData?.total || 0 }}</span>
      </div>
    </div>
    
    <div class="chart-container">
      <canvas id="courierChart" width="300" height="200"></canvas>
    </div>
  </div>

  <!-- Summary section for Marketing Analytics report -->
  <div *ngIf="isMarketingReport" class="summary-section">
    <div class="summary-stats">
      <h4>Marketing Analytics Summary</h4>
      <div class="stat-item">
        <span class="stat-label">Total Revenue:</span>
        <span class="stat-value">${{ summaryData?.totalRevenue | number:'1.2-2' }}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Today Revenue:</span>
        <span class="stat-value">${{ summaryData?.todayRevenue | number:'1.2-2' }}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Today Orders:</span>
        <span class="stat-value">{{ summaryData?.todayOrders || 0 }}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Total Customers:</span>
        <span class="stat-value">{{ summaryData?.totalCustomers | number }}</span>
      </div>
      <div class="stat-item">
        <span class="stat-label">Average Order Amount:</span>
        <span class="stat-value">${{ summaryData?.averageOrderAmount | number:'1.2-2' }}</span>
      </div>
      <div class="stat-item total">
        <span class="stat-label">Active Campaigns:</span>
        <span class="stat-value">{{ summaryData?.activeCampaigns || 0 }}</span>
      </div>
    </div>
    
    <div class="chart-container">
      <canvas id="marketingChart" width="300" height="200"></canvas>
    </div>
  </div>

  <div class="table-section">
    <h4>Detailed Data</h4>
    <table *ngIf="filteredData.length > 0">
      <thead>
        <tr>
          <th *ngFor="let col of tableColumns">{{ col }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of filteredData">
          <td *ngFor="let col of tableColumns">
            <span *ngIf="col === 'Status'" [class]="'status ' + getStatusClass(row[col])">{{ row[col] }}</span>
            <span *ngIf="col !== 'Status'">{{ row[col] }}</span>
          </td>
        </tr>
      </tbody>
    </table>
    <p *ngIf="filteredData.length === 0" class="no-data">No data available to display.</p>
  </div>
</div>


  <div class="button-group">
    <button (click)="cancel()">Cancel</button>
    <button (click)="generateReport()">Print Report</button>
  </div>
</div>
