<div class="user-management-container">
  <!-- User Management Content -->
  <div class="user-management-content">
    <div class="header">
      <div class="header-left">
        <h2>User Management</h2>
        <p class="subtitle">Add, edit, and manage user accounts</p>
      </div>
      <div class="actions">
        <button class="add-user-btn" (click)="addUser()">
          Add User
        </button>
      </div>
    </div>

    <div class="search-container">
      <div class="search-box">
        <input type="text" placeholder="Search users" [(ngModel)]="searchText" />
      </div>
      <button class="filter-btn">
        <i class="fas fa-filter"></i>
      </button>
    </div>

    <table class="users-table">
      <thead>
        <tr>
          <th>User</th>
          <th>Role</th>
          <th>Last Active</th>
          <th>Status</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <!-- let user of users  -->
        <tr *ngFor="let user of filteredUsers()">    
          <td class="user-cell">
            <div class="user-name">{{ user.username }}</div>
            <div class="user-email">{{ user.email }}</div>
          </td>
          <td>{{ user.roles }}</td>
          <td>{{ user.lastActive }}</td>
          <td>
            <span class="status-badge" [ngClass]="user.status?.toLowerCase()">
              {{ user.status }}
            </span>
          </td>
          <!-- <td>
            <button class="action-btn">
              <i class="icon more-icon"><strong>⋯</strong></i>
            </button>
          </td> -->
          <td class="action-cell">
            <div class="dropdown-container">
              <button class="action-btn" (click)="toggleDropdown(user)">
                ⋯
              </button>
          
              <!-- Dropdown menu -->
              <div class="dropdown-menu" *ngIf="user.showMenu">
                <button class="delete-btn" (click)="deleteUser(user)">
                  🗑️ Delete
                </button>
              </div>
            </div>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
