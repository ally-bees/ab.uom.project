<!-- <div class="reset-password-container">
  <h2>Reset Password</h2>

  <form [formGroup]="resetForm" (ngSubmit)="onSubmit()">
    <div>
      <label>New Password:</label>
      <input type="password" formControlName="newPassword">
    </div>

    <div>
      <label>Confirm Password:</label>
      <input type="password" formControlName="confirmPassword">
    </div>

    <button type="submit" [disabled]="resetForm.invalid">Reset Password</button>
  </form>
</div> -->

<div class="reset-password-container">
  <div class="left-panel">
    <div class="brand-content">
      <h3>Effortless reporting and data insights?</h3>
      <h2>InstaDash Reporting</h2>
      <p>empowers your business.</p>
      <div class="logo">
        <img src="assets/logo2.png" alt="InstaDash Logo">
      </div>
    </div>
  </div>

  <div class="right-panel">
    <div class="form-container">
      <h2>Reset Password</h2>
      <p>Please enter your new password below.</p>
      
      <div class="alert alert-danger" *ngIf="tokenInvalid">
        Invalid or expired password reset link. Please request a new one.
        <a routerLink="/forget-password" class="request-link">Request new link</a>
      </div>
      
      <form [formGroup]="resetForm" (ngSubmit)="onSubmit()" *ngIf="!tokenInvalid">
        <div class="alert alert-danger" *ngIf="errorMessage">{{ errorMessage }}</div>
        <div class="alert alert-success" *ngIf="successMessage">{{ successMessage }}</div>

        <div class="form-group">
          <input 
            type="password" 
            id="password" 
            formControlName="password" 
            placeholder="New Password"
            [ngClass]="{'invalid': submitted && password?.invalid}"
          />
          <div *ngIf="submitted && password?.invalid" class="invalid-feedback">
            <div *ngIf="password?.errors?.['required']">Password is required</div>
            <div *ngIf="password?.errors?.['minlength']">Password must be at least 6 characters</div>
          </div>
        </div>

        <div class="form-group">
          <input 
            type="password" 
            id="confirmPassword" 
            formControlName="confirmPassword" 
            placeholder="Confirm Password"
            [ngClass]="{'invalid': submitted && confirmPassword?.invalid}"
          />
          <div *ngIf="submitted && confirmPassword?.invalid" class="invalid-feedback">
            <div *ngIf="confirmPassword?.errors?.['required']">Please confirm your password</div>
            <div *ngIf="confirmPassword?.errors?.['passwordMismatch']">Passwords do not match</div>
          </div>
        </div>

        <button type="submit" class="reset-btn" [disabled]="resetForm.invalid || loading">
          <span *ngIf="loading" class="spinner-border spinner-border-sm"></span>
          Reset Password
        </button>
      </form>

      <div class="login-link">
        Remember your password? <a routerLink="/login" class="signin-link">Sign in here</a>
      </div>
    </div>
  </div>
</div>
