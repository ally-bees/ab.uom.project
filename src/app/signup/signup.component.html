<div class="signup-container">
  <div class="left-panel">
    <div class="brand-content">
      <h3>Effortless reporting and data insights?</h3>
      <h2>InstaDash Reporting</h2>
      <p>empowers your business.</p>

      <div class="logo">
        <img src="assets/instadash-logo.svg" alt="InstaDash Logo">
        <div class="logo-text">InstaDash</div>
      </div>
    </div>
  </div>

  <div class="right-panel">
    <div class="form-container">
      <h2>Create a new Account.</h2>

      <form [formGroup]="signupForm" (ngSubmit)="onSubmit()">
        <div class="alert alert-danger" *ngIf="error">{{ error }}</div>

        <div class="form-group">
          <input 
            type="text"
            placeholder="Username"
            formControlName="username"
            [ngClass]="{ 'invalid': f['username'].touched && f['username'].invalid }"
          />
          <div *ngIf="f['username'].touched && f['username'].invalid" class="invalid-feedback">
            <div *ngIf="f['username'].errors?.['required']">Username is required</div>
            <div *ngIf="f['username'].errors?.['minlength']">Must be at least 3 characters</div>
          </div>
        </div>

        <div class="form-group">
          <input 
            type="email"
            placeholder="Email"
            formControlName="email"
            [ngClass]="{ 'invalid': f['email'].touched && f['email'].invalid }"
          />
          <div *ngIf="f['email'].touched && f['email'].invalid" class="invalid-feedback">
            <div *ngIf="f['email'].errors?.['required']">Email is required</div>
            <div *ngIf="f['email'].errors?.['email']">Please enter a valid email</div>
          </div>
        </div>

        <div class="form-group">
          <input 
            type="password"
            placeholder="Password"
            formControlName="password"
            [ngClass]="{ 'invalid': f['password'].touched && f['password'].invalid }"
          />
          <div *ngIf="f['password'].touched && f['password'].invalid" class="invalid-feedback">
            <div *ngIf="f['password'].errors?.['required']">Password is required</div>
            <div *ngIf="f['password'].errors?.['minlength']">At least 8 characters</div>
          </div>
        </div>

        <div class="form-group">
          <input 
            type="text"
            placeholder="Role"
            formControlName="role"
            [ngClass]="{ 'invalid': f['role'].touched && f['role'].invalid }"
          />
          <div *ngIf="f['role'].touched && f['role'].invalid" class="invalid-feedback">
            <div *ngIf="f['role'].errors?.['required']">Role is required</div>
          </div>
        </div>

        <div class="form-group">
          <input 
            type="text"
            placeholder="Honeycomb ID"
            formControlName="honeycombId"
            [ngClass]="{ 'invalid': f['honeycombId'].touched && f['honeycombId'].invalid }"
          />
          <div *ngIf="f['honeycombId'].touched && f['honeycombId'].invalid" class="invalid-feedback">
            <div *ngIf="f['honeycombId'].errors?.['required']">Honeycomb ID is required</div>
          </div>
        </div>

        <div class="terms-section">
          <p>
            By signing up, you agree to our 
            <a href="#" class="terms-link">terms of service</a> and 
            <a href="#" class="terms-link">privacy policy</a>
          </p>
        </div>

        <button type="submit" class="signup-btn" [disabled]="signupForm.invalid || loading">
          <span *ngIf="loading" class="spinner-border spinner-border-sm mr-1"></span>
          Sign up
        </button>
      </form>

      <div class="login-link">
        Already have an account? <a routerLink="/login" class="signin-link">Sign-in here</a>
      </div>
    </div>
  </div>
</div>
