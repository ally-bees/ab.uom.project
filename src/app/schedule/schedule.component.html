<div class="automation-container">
    <h1 class="title">Report Automation</h1>
  
    <!-- Stepper -->
    <div class="stepper">
      <!-- Step 1: Report Configuration -->
      <div class="step" *ngIf="currentStep === 1">
        <div class="step-header">
          <div class="step-number">1</div>
          <h2>Report Configuration</h2>
        </div>
        
        <form [formGroup]="reportForm">
          <div class="form-group">
            <label for="reportType">Report Type</label>
            <select id="reportType" formControlName="reportType">
              <option value="sales">Sales Report</option>
              <option value="inventory">Inventory Report</option>
              <option value="financial">Financial Report</option>
              <option value="analytics">Analytics Report</option>
            </select>
          </div>
  
          <div class="form-group">
            <label for="format">Export Format</label>
            <select id="format" formControlName="format">
              <option value="pdf">PDF Document (.pdf)</option>
            </select>
          </div>
  
          <div class="step-actions">
            <button class="btn-next" [disabled]="!reportForm.valid" (click)="nextStep()">Next</button>
          </div>
        </form>
      </div>
  
      <!-- Step 2: Schedule Configuration -->
      <div class="step" *ngIf="currentStep === 2">
        <div class="step-header">
          <div class="step-number">2</div>
          <h2>Schedule Configuration</h2>
        </div>
  
        <form [formGroup]="scheduleForm">
          <div class="form-group">
            <label for="frequency">Frequency</label>
            <select id="frequency" formControlName="frequency">
              <option value="daily">Daily</option>
              <option value="weekly">Weekly</option>
              <option value="monthly">Monthly</option>
            </select>
          </div>
  
          <div class="form-group">
            <label for="time">Time</label>
            <input type="time" id="time" formControlName="time">
          </div>
  
          <div class="form-group" *ngIf="scheduleForm.get('frequency')?.value === 'weekly'">
            <label for="dayOfWeek">Day of Week</label>
            <select id="dayOfWeek" formControlName="dayOfWeek">
              <option value="1">Monday</option>
              <option value="2">Tuesday</option>
              <option value="3">Wednesday</option>
              <option value="4">Thursday</option>
              <option value="5">Friday</option>
              <option value="6">Saturday</option>
              <option value="7">Sunday</option>
            </select>
          </div>
  
          <div class="form-group" *ngIf="scheduleForm.get('frequency')?.value === 'monthly'">
            <label for="dayOfMonth">Day of Month</label>
            <select id="dayOfMonth" formControlName="dayOfMonth">
              <option *ngFor="let day of daysOfMonth" [value]="day">{{day}}</option>
            </select>
          </div>
  
          <div class="step-actions">
            <button class="btn-back" (click)="previousStep()">Cancel</button>
            <button class="btn-next" [disabled]="!scheduleForm.valid" (click)="nextStep()">Next</button>
          </div>
        </form>
      </div>
  
      <!-- Step 3: Recipients -->
      <div class="step" *ngIf="currentStep === 3">
        <div class="step-header">
          <div class="step-number">3</div>
          <h2>Recipients</h2>
        </div>
  
        <form [formGroup]="recipientForm">
          <div class="form-group">
            <label for="emails">Email Recipients</label>
            <input type="email" id="emails" formControlName="emails" placeholder="Email address">
          </div>
  
          <div class="form-group">
            <label for="subject">Email Subject</label>
            <input type="text" id="subject" formControlName="subject" placeholder="Email Subject">
          </div>
  
          <div class="form-group">
            <label for="message">Email Message</label>
            <textarea id="message" formControlName="message" placeholder="Enter Message"></textarea>
          </div>
  
          <div class="notification-preferences">
            <label class="checkbox-label">
              <input type="checkbox" formControlName="notifyOnSuccess">
              Notify me when report is sent successfully
            </label>
            <label class="checkbox-label">
              <input type="checkbox" formControlName="notifyOnFailure">
              Notify me if reports fails to send
            </label>
          </div>
  
          <div class="step-actions">
            <button class="btn-back" (click)="previousStep()">Cancel</button>
            <button class="btn-submit" [disabled]="!recipientForm.valid" (click)="onSubmit()">Save Automation</button>
          </div>
        </form>
      </div>
    </div>
  
    <!-- Active Automations -->
    <div class="active-automations" *ngIf="activeAutomations.length > 0">
      <h2>Active Automations</h2>
      <div class="automation-list">
        <div class="automation-item" *ngFor="let automation of activeAutomations">
          <div class="automation-info">
            <h3>{{automation.reportType}}</h3>
            <p>{{automation.frequency}} at {{automation.time}}</p>
          </div>
          <button class="btn-delete" (click)="deleteAutomation(automation.id)">Delete</button>
        </div>
      </div>
    </div>
  </div>